{"version":3,"sources":["webpack:///./src/components/WorkFlow/Monitor.vue","webpack:///./src/components/WorkFlow/Monitor.vue?28b1","webpack:///./src/components/WorkFlow/Monitor.vue?f1c3"],"names":["Monitor","name","data","query","ResultInfo","HistoryMind","mounted","this","loadMonitor","methods","_this","getQuery","params","assign_default","SubOperate","FlowOperate","flowOperate","Current","WorkInfoID","FlowActionData","stringify_default","then","response","value","catch","e","AlertShowEvent","message","formatFlowOperate","node","EFlowOperate","Active","Send","GetBack","Return","Stop","CheckOut","Delegate","IsReturnDelegateRoot","formatInboxStatus","InboxStatus","EFlowInboxStatus","WaitingSign","Hidden","Normal","WorkEnd","$router","history","current","mapActions","components","LineBreak","WorkFlow_Monitor","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","_v","_s","WorkFlowName","RecordStatusName","length","_l","item","index","IsHidden","_e","key","MindDate","DeptPositionName","UserName","BeforeContent","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"weixin3.0/static/js/14.2550a85351ec24e645bc.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { mapActions } from 'vuex'\r\nimport LineBreak from 'base/line/line.vue'\r\nimport { EFlowInboxStatus, EFlowOperate } from 'common/js/config.js'\r\n\r\nexport default {\r\n  name: 'workflow',\r\n  data () {\r\n    return {\r\n      query: {},\r\n      ResultInfo: {},\r\n      HistoryMind: []\r\n    }\r\n  },\r\n  mounted () {\r\n    this.loadMonitor()\r\n  },\r\n  methods: {\r\n    // 获取流程数据\r\n    loadMonitor () {\r\n      this.getQuery()\r\n      let query = this.query\r\n      let params = Object.assign({}, {\r\n        SubOperate: 'ReadConfig',\r\n        FlowOperate: query.flowOperate,\r\n        Current: {\r\n          WorkInfoID: query.WorkInfoID || ''\r\n        }\r\n      })\r\n\r\n      this.FlowActionData(JSON.stringify(params)).then((response) => {\r\n        let value = response.data.value\r\n        if (value.ResultInfo) {\r\n          this.ResultInfo = value.ResultInfo\r\n          this.HistoryMind = this.ResultInfo.HistoryMind\r\n        }\r\n      }).catch((e) => {\r\n        this.AlertShowEvent(e.message)\r\n      })\r\n    },\r\n    // 节点的发送的指令\r\n    formatFlowOperate (node) {\r\n      switch (node.FlowOperate) {\r\n        case EFlowOperate.Active:\r\n          return '送审'\r\n        case EFlowOperate.Send:\r\n          return '同意'\r\n        case EFlowOperate.GetBack:\r\n          return '回收'\r\n        case EFlowOperate.Return:\r\n          return '驳回'\r\n        case EFlowOperate.Stop:\r\n          return '终止'\r\n        case EFlowOperate.CheckOut:\r\n          return '等候签收'\r\n        case EFlowOperate.Delegate:\r\n          if (!node.IsReturnDelegateRoot) {\r\n            return '委派'\r\n          } else {\r\n            return '委派返回'\r\n          }\r\n        default:\r\n          return ''\r\n      }\r\n    },\r\n    // 节点的状态\r\n    formatInboxStatus (node) {\r\n      switch (node.InboxStatus) {\r\n        case EFlowInboxStatus.WaitingSign:\r\n          return '(等候签收)'\r\n        case EFlowInboxStatus.Hidden:\r\n          return '(隐藏等候中)'\r\n        case EFlowInboxStatus.Normal:\r\n          return '(正在处理)'\r\n        case EFlowInboxStatus.WorkEnd:\r\n          return '(已提交)'\r\n        default:\r\n          return ''\r\n      }\r\n    },\r\n    // 获取路由中的参数\r\n    getQuery () {\r\n      let query = this.$router.history.current.query\r\n      if (query) {\r\n        this.query = Object.assign({}, query)\r\n      }\r\n    },\r\n    ...mapActions([\r\n      'FlowActionData',\r\n      'AlertShowEvent'\r\n    ])\r\n  },\r\n  components: {\r\n    LineBreak\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/WorkFlow/Monitor.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide\"}},[_c('div',{staticClass:\"work-flow-monitor\"},[_c('div',{staticClass:\"monitor-header-content\"},[_c('div',{staticClass:\"header-item\"},[_c('span',{staticClass:\"name\"},[_vm._v(\"流程名称:\")]),_vm._v(\" \"),_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.ResultInfo.WorkFlowName))])]),_vm._v(\" \"),_c('div',{staticClass:\"header-item\"},[_c('span',{staticClass:\"name\"},[_vm._v(\"流转状态:\")]),_vm._v(\" \"),_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.ResultInfo.RecordStatusName))])])]),_vm._v(\" \"),_c('line-break'),_vm._v(\" \"),_c('div',{staticClass:\"monitor-history-content\"},[_c('h1',{staticClass:\"history-title\"},[_vm._v(\"流转历史:\")]),_vm._v(\" \"),(_vm.HistoryMind.length > 0)?_c('ul',{staticClass:\"history-lists\"},_vm._l((_vm.HistoryMind),function(item,index){return (!item.IsHidden)?_c('li',{key:index,staticClass:\"history-list\"},[_c('div',{staticClass:\"list-inner\"},[_c('div',{staticClass:\"history-unit-title\"},[_c('div',{staticClass:\"tag\"}),_vm._v(\" \"),_c('div',{staticClass:\"date-time\"},[_vm._v(\"\\n                \"+_vm._s(item.MindDate)+\"\\n              \")]),_vm._v(\" \"),_c('div',{staticClass:\"flow-operate\"},[_vm._v(\"\\n                \"+_vm._s(_vm.formatFlowOperate(item))+\"\\n              \")])]),_vm._v(\" \"),_c('div',{staticClass:\"history-unit-content\"},[_c('div',{staticClass:\"unit-item unit-role\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(item.DeptPositionName)+\":\")]),_vm._v(\" \"),_c('div',{staticClass:\"text\"},[_vm._v(_vm._s(item.UserName))])]),_vm._v(\" \"),_c('div',{staticClass:\"unit-item unit-content\"},[_c('div',{staticClass:\"name\"},[_vm._v(\"意见:\")]),_vm._v(\" \"),_c('div',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.formatInboxStatus(item))+\" \"+_vm._s(item.BeforeContent))])])])])]):_vm._e()})):_vm._e()])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5c8bed14\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/WorkFlow/Monitor.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5c8bed14\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vux-loader/src/after-less-loader.js!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Monitor.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader?{\\\"plugins\\\":[[\\\"babel-plugin-transform-modules\\\",{\\\"cube-ui\\\":{\\\"transform\\\":\\\"cube-ui/src/modules/${member}\\\",\\\"kebabCase\\\":true}}]]}!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Monitor.vue\"\nimport __vue_script__ from \"!!babel-loader?{\\\"plugins\\\":[[\\\"babel-plugin-transform-modules\\\",{\\\"cube-ui\\\":{\\\"transform\\\":\\\"cube-ui/src/modules/${member}\\\",\\\"kebabCase\\\":true}}]]}!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Monitor.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5c8bed14\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../../node_modules/vux-loader/src/template-loader.js!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Monitor.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/WorkFlow/Monitor.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}