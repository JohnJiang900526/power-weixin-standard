webpackJsonp([17],{VjlF:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("3cXf"),i=s.n(a),n=s("aA9S"),r=s.n(n),o=s("tiSE"),l=s("F4+m"),c=s("gyMJ"),u=s("W/7t"),d={name:"workflow",mixins:[l.a],data:function(){return{query:{},ResultInfo:{},HistoryMind:[],afterSaveMsg:"",mx_isLoading:!1,mx_message:"",mx_alertShow:!1,mx_alertTitle:"提示",mx_toastShow:!1,mx_deleyTime:1e3}},mounted:function(){this.loadMonitor()},methods:{loadMonitor:function(){var t=this;this.getQuery();var e=this.query,s=r()({},{SubOperate:"ReadConfig",FlowOperate:e.flowOperate,Current:{WorkInfoID:e.WorkInfoID||""}});this.MinXinHttpFetch(Object(c.f)(i()(s)),function(e){if(e.success){var s=e.data.value;s.ResultInfo&&(t.ResultInfo=s.ResultInfo,t.HistoryMind=t.ResultInfo.HistoryMind)}})},formatFlowOperate:function(t){switch(t.FlowOperate){case u.d.Active:return"送审";case u.d.Send:return"同意";case u.d.GetBack:return"回收";case u.d.Return:return"驳回";case u.d.Stop:return"终止";case u.d.CheckOut:return"等候签收";case u.d.Delegate:return t.IsReturnDelegateRoot?"委派返回":"委派";default:return""}},formatInboxStatus:function(t){switch(t.InboxStatus){case u.b.WaitingSign:return"(等候签收)";case u.b.Hidden:return"(隐藏等候中)";case u.b.Normal:return"(正在处理)";case u.b.WorkEnd:return"(已提交)";default:return""}},getQuery:function(){var t=this.$router.history.current.query;t&&(this.query=r()({},t))}},components:{LineBreak:o.default}},_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"slide"}},[s("div",{staticClass:"work-flow-monitor"},[s("div",{staticClass:"monitor-header-content"},[s("div",{staticClass:"header-item"},[s("span",{staticClass:"name"},[t._v("流程名称:")]),t._v(" "),s("span",{staticClass:"text"},[t._v(t._s(t.ResultInfo.WorkFlowName))])]),t._v(" "),s("div",{staticClass:"header-item"},[s("span",{staticClass:"name"},[t._v("流转状态:")]),t._v(" "),s("span",{staticClass:"text"},[t._v(t._s(t.ResultInfo.RecordStatusName))])])]),t._v(" "),s("line-break"),t._v(" "),s("div",{staticClass:"monitor-history-content"},[s("h1",{staticClass:"history-title"},[t._v("流转历史:")]),t._v(" "),t.HistoryMind.length>0?s("ul",{staticClass:"history-lists"},t._l(t.HistoryMind,function(e,a){return e.IsHidden?t._e():s("li",{key:a,staticClass:"history-list"},[s("div",{staticClass:"list-inner"},[s("div",{staticClass:"history-unit-title"},[s("div",{staticClass:"tag"}),t._v(" "),s("div",{staticClass:"date-time"},[t._v("\n                "+t._s(e.MindDate)+"\n              ")]),t._v(" "),s("div",{staticClass:"flow-operate"},[t._v("\n                "+t._s(t.formatFlowOperate(e))+"\n              ")])]),t._v(" "),s("div",{staticClass:"history-unit-content"},[s("div",{staticClass:"unit-item unit-role"},[s("div",{staticClass:"name"},[t._v(t._s(e.DeptPositionName)+":")]),t._v(" "),s("div",{staticClass:"text"},[t._v(t._s(e.UserName))])]),t._v(" "),s("div",{staticClass:"unit-item unit-content"},[s("div",{staticClass:"name"},[t._v("意见:")]),t._v(" "),s("div",{staticClass:"text"},[t._v(t._s(t.formatInboxStatus(e))+" "+t._s(e.BeforeContent))])])])])])})):t._e()]),t._v(" "),s("loading",{model:{value:t.mx_isLoading,callback:function(e){t.mx_isLoading=e},expression:"mx_isLoading"}}),t._v(" "),s("toast",{attrs:{type:"text",time:t.mx_deleyTime},model:{value:t.mx_toastShow,callback:function(e){t.mx_toastShow=e},expression:"mx_toastShow"}},[t._v(t._s(t.afterSaveMsg))]),t._v(" "),s("alert",{attrs:{title:t.mx_alertTitle,content:t.mx_message},on:{"on-hide":t.MixinAlertHideEvent},model:{value:t.mx_alertShow,callback:function(e){t.mx_alertShow=e},expression:"mx_alertShow"}})],1)])},staticRenderFns:[]};var v=s("C7Lr")(d,_,!1,function(t){s("zZhs")},null,null);e.default=v.exports},zZhs:function(t,e){}});
//# sourceMappingURL=17.0f665dfa6b7343c88dd1.js.map