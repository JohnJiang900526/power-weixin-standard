{"version":3,"sources":["webpack:///./src/components/WorkFlow/Monitor.vue","webpack:///./src/components/WorkFlow/Monitor.vue?7c5d","webpack:///./src/components/WorkFlow/Monitor.vue?fcd7"],"names":["Monitor","name","mixins","commonComponentMixin","data","query","ResultInfo","HistoryMind","afterSaveMsg","mx_isLoading","mx_message","mx_alertShow","mx_alertTitle","mx_toastShow","mx_deleyTime","mounted","this","loadMonitor","methods","_this","getQuery","params","assign_default","SubOperate","FlowOperate","flowOperate","Current","WorkInfoID","MinXinHttpFetch","FlowAction","stringify_default","response","success","value","formatFlowOperate","node","EFlowOperate","Active","Send","GetBack","Return","Stop","CheckOut","Delegate","IsReturnDelegateRoot","formatInboxStatus","InboxStatus","EFlowInboxStatus","WaitingSign","Hidden","Normal","WorkEnd","$router","history","current","components","LineBreak","WorkFlow_Monitor","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","_v","_s","WorkFlowName","RecordStatusName","length","_l","item","index","IsHidden","_e","key","MindDate","DeptPositionName","UserName","BeforeContent","model","callback","$$v","expression","type","time","title","content","on","on-hide","MixinAlertHideEvent","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"weixin3.0/static/js/17.0f665dfa6b7343c88dd1.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport LineBreak from 'base/line/line.vue'\nimport { commonComponentMixin } from 'common/js/mixin.js'\nimport { FlowAction } from 'api/index.js'\nimport { EFlowInboxStatus, EFlowOperate } from 'common/js/config.js'\n\nexport default {\n  name: 'workflow',\n  mixins: [commonComponentMixin],\n  data () {\n    return {\n      query: {},\n      ResultInfo: {},\n      HistoryMind: [],\n      afterSaveMsg: '',\n      mx_isLoading: false,\n      mx_message: '',\n      mx_alertShow: false,\n      mx_alertTitle: '提示',\n      mx_toastShow: false,\n      mx_deleyTime: 1000\n    }\n  },\n  mounted () {\n    this.loadMonitor()\n  },\n  methods: {\n    // 获取流程数据\n    loadMonitor () {\n      this.getQuery()\n      let query = this.query\n      let params = Object.assign({}, {\n        SubOperate: 'ReadConfig',\n        FlowOperate: query.flowOperate,\n        Current: {\n          WorkInfoID: query.WorkInfoID || ''\n        }\n      })\n\n      this.MinXinHttpFetch(FlowAction(JSON.stringify(params)), (response) => {\n        if (response.success) {\n          let value = response.data.value\n          if (value.ResultInfo) {\n            this.ResultInfo = value.ResultInfo\n            this.HistoryMind = this.ResultInfo.HistoryMind\n          }\n        }\n      })\n    },\n    // 节点的发送的指令\n    formatFlowOperate (node) {\n      switch (node.FlowOperate) {\n        case EFlowOperate.Active:\n          return '送审'\n        case EFlowOperate.Send:\n          return '同意'\n        case EFlowOperate.GetBack:\n          return '回收'\n        case EFlowOperate.Return:\n          return '驳回'\n        case EFlowOperate.Stop:\n          return '终止'\n        case EFlowOperate.CheckOut:\n          return '等候签收'\n        case EFlowOperate.Delegate:\n          if (!node.IsReturnDelegateRoot) {\n            return '委派'\n          } else {\n            return '委派返回'\n          }\n        default:\n          return ''\n      }\n    },\n    // 节点的状态\n    formatInboxStatus (node) {\n      switch (node.InboxStatus) {\n        case EFlowInboxStatus.WaitingSign:\n          return '(等候签收)'\n        case EFlowInboxStatus.Hidden:\n          return '(隐藏等候中)'\n        case EFlowInboxStatus.Normal:\n          return '(正在处理)'\n        case EFlowInboxStatus.WorkEnd:\n          return '(已提交)'\n        default:\n          return ''\n      }\n    },\n    // 获取路由中的参数\n    getQuery () {\n      let query = this.$router.history.current.query\n      if (query) {\n        this.query = Object.assign({}, query)\n      }\n    }\n  },\n  components: {\n    LineBreak\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/WorkFlow/Monitor.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide\"}},[_c('div',{staticClass:\"work-flow-monitor\"},[_c('div',{staticClass:\"monitor-header-content\"},[_c('div',{staticClass:\"header-item\"},[_c('span',{staticClass:\"name\"},[_vm._v(\"流程名称:\")]),_vm._v(\" \"),_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.ResultInfo.WorkFlowName))])]),_vm._v(\" \"),_c('div',{staticClass:\"header-item\"},[_c('span',{staticClass:\"name\"},[_vm._v(\"流转状态:\")]),_vm._v(\" \"),_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.ResultInfo.RecordStatusName))])])]),_vm._v(\" \"),_c('line-break'),_vm._v(\" \"),_c('div',{staticClass:\"monitor-history-content\"},[_c('h1',{staticClass:\"history-title\"},[_vm._v(\"流转历史:\")]),_vm._v(\" \"),(_vm.HistoryMind.length > 0)?_c('ul',{staticClass:\"history-lists\"},_vm._l((_vm.HistoryMind),function(item,index){return (!item.IsHidden)?_c('li',{key:index,staticClass:\"history-list\"},[_c('div',{staticClass:\"list-inner\"},[_c('div',{staticClass:\"history-unit-title\"},[_c('div',{staticClass:\"tag\"}),_vm._v(\" \"),_c('div',{staticClass:\"date-time\"},[_vm._v(\"\\n                \"+_vm._s(item.MindDate)+\"\\n              \")]),_vm._v(\" \"),_c('div',{staticClass:\"flow-operate\"},[_vm._v(\"\\n                \"+_vm._s(_vm.formatFlowOperate(item))+\"\\n              \")])]),_vm._v(\" \"),_c('div',{staticClass:\"history-unit-content\"},[_c('div',{staticClass:\"unit-item unit-role\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(item.DeptPositionName)+\":\")]),_vm._v(\" \"),_c('div',{staticClass:\"text\"},[_vm._v(_vm._s(item.UserName))])]),_vm._v(\" \"),_c('div',{staticClass:\"unit-item unit-content\"},[_c('div',{staticClass:\"name\"},[_vm._v(\"意见:\")]),_vm._v(\" \"),_c('div',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.formatInboxStatus(item))+\" \"+_vm._s(item.BeforeContent))])])])])]):_vm._e()})):_vm._e()]),_vm._v(\" \"),_c('loading',{model:{value:(_vm.mx_isLoading),callback:function ($$v) {_vm.mx_isLoading=$$v},expression:\"mx_isLoading\"}}),_vm._v(\" \"),_c('toast',{attrs:{\"type\":\"text\",\"time\":_vm.mx_deleyTime},model:{value:(_vm.mx_toastShow),callback:function ($$v) {_vm.mx_toastShow=$$v},expression:\"mx_toastShow\"}},[_vm._v(_vm._s(_vm.afterSaveMsg))]),_vm._v(\" \"),_c('alert',{attrs:{\"title\":_vm.mx_alertTitle,\"content\":_vm.mx_message},on:{\"on-hide\":_vm.MixinAlertHideEvent},model:{value:(_vm.mx_alertShow),callback:function ($$v) {_vm.mx_alertShow=$$v},expression:\"mx_alertShow\"}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-6f125b6a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!./node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/WorkFlow/Monitor.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6f125b6a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/after-less-loader.js!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/style-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./Monitor.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader?{\\\"plugins\\\":[[\\\"babel-plugin-transform-modules\\\",{\\\"cube-ui\\\":{\\\"transform\\\":\\\"cube-ui/src/modules/${member}\\\",\\\"kebabCase\\\":true}}]]}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Monitor.vue\"\nimport __vue_script__ from \"!!babel-loader?{\\\"plugins\\\":[[\\\"babel-plugin-transform-modules\\\",{\\\"cube-ui\\\":{\\\"transform\\\":\\\"cube-ui/src/modules/${member}\\\",\\\"kebabCase\\\":true}}]]}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Monitor.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6f125b6a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./Monitor.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/WorkFlow/Monitor.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}