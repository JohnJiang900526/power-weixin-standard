{"version":3,"sources":["webpack:///./src/components/WorkFlow/History.vue","webpack:///./src/components/WorkFlow/History.vue?d94d","webpack:///./src/components/WorkFlow/History.vue?f824"],"names":["History","mixins","commonComponentMixin","data","historyList","afterSaveMsg","mx_isLoading","mx_message","mx_alertShow","mx_alertTitle","mx_toastShow","mx_deleyTime","mounted","this","_FormInit","methods","_this","getQuery","params","FormId","query","KeyValue","FormState","MinXinHttpFetch","FormInit","response","success","workflowdata","JSON","parse","CanFlowOperate","CanFlowList","ShowHistoryMonitor","List","concat","openMonitor","WorkInfoID","flowOperate","$router","push","path","formatStatus","status","result","formatDate","date","history","current","assign_default","goBack","back","WorkFlow_History","render","_vm","_h","$createElement","_c","_self","attrs","name","staticClass","_v","_l","item","index","key","on","click","$event","_s","Title","RecordStatus","FinishUserName","CreateDate","FinishDate","model","value","callback","$$v","expression","type","time","title","content","on-hide","MixinAlertHideEvent","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"weixin3.0/static/js/20.26f2de48188078715dec.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { commonComponentMixin } from 'common/js/mixin.js'\r\nimport { FormInit } from 'api/index.js'\r\nimport { formatDate } from 'common/js/Util.js'\r\n\r\nexport default {\r\n  mixins: [commonComponentMixin],\r\n  data () {\r\n    return {\r\n      historyList: [],\r\n      afterSaveMsg: '',\r\n      mx_isLoading: false,\r\n      mx_message: '',\r\n      mx_alertShow: false,\r\n      mx_alertTitle: '提示',\r\n      mx_toastShow: false,\r\n      mx_deleyTime: 1000\r\n    }\r\n  },\r\n  mounted () {\r\n    this._FormInit()\r\n  },\r\n  methods: {\r\n    // 获取流程数据\r\n    _FormInit () {\r\n      this.getQuery()\r\n\r\n      let params = {\r\n        FormId: this.query.FormId,\r\n        KeyValue: this.query.KeyValue,\r\n        FormState: this.query.FormState\r\n      }\r\n\r\n      this.MinXinHttpFetch(FormInit(params), (response) => {\r\n        if (response.success) {\r\n          let workflowdata = response.data.workflowdata\r\n          if (workflowdata !== '') {\r\n            workflowdata = JSON.parse(workflowdata)\r\n          }\r\n\r\n          let CanFlowOperate = workflowdata.CanFlowOperate\r\n          if (CanFlowOperate) {\r\n            let CanFlowList = CanFlowOperate.CanFlowList\r\n\r\n            if (CanFlowList) {\r\n              let ShowHistoryMonitor = CanFlowList.ShowHistoryMonitor\r\n\r\n              if (ShowHistoryMonitor.List) {\r\n                this.historyList = ShowHistoryMonitor.List.concat()\r\n              }\r\n            }\r\n          }\r\n        }\r\n      })\r\n    },\r\n    // 查看监控\r\n    openMonitor (WorkInfoID) {\r\n      let query = {\r\n        flowOperate: 'ShowMonitor',\r\n        WorkInfoID: WorkInfoID\r\n      }\r\n\r\n      this.$router.push({\r\n        path: '/forkflow/monitor',\r\n        query: query\r\n      })\r\n    },\r\n    // 转换状态\r\n    formatStatus (status) {\r\n      let result = ''\r\n\r\n      switch (status) {\r\n        case 'Stop':\r\n          result = '已终止'\r\n          break\r\n        case 'Finish':\r\n          result = '办结'\r\n          break\r\n        case 'Scrap':\r\n          result = '已废弃'\r\n          break\r\n        default:\r\n          result = '流转中'\r\n          break\r\n      }\r\n\r\n      return result\r\n    },\r\n    // 日期格式化\r\n    formatDate (date) {\r\n      return formatDate(date, 'yyyy-MM-dd HH:mm:ss')\r\n    },\r\n    // 获取路由中的参数\r\n    getQuery () {\r\n      let query = this.$router.history.current.query\r\n      if (query) {\r\n        this.query = Object.assign({}, query)\r\n      }\r\n    },\r\n    // 返回表单\r\n    goBack () {\r\n      this.$router.back()\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/WorkFlow/History.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide\"}},[_c('div',{staticClass:\"flow-history-content\"},[_c('div',{staticClass:\"flow-history-main\"},[_c('h1',{staticClass:\"title font-color-active\"},[_vm._v(\"监控历史:\")]),_vm._v(\" \"),_c('ul',{staticClass:\"lists\"},_vm._l((_vm.historyList),function(item,index){return _c('li',{key:index,staticClass:\"list\",on:{\"click\":function($event){return _vm.openMonitor(item.WorkInfoID)}}},[_c('div',{staticClass:\"list-unit-inner\"},[_c('h1',{staticClass:\"title\"},[_c('span',{staticClass:\"name font-color-active \"},[_vm._v(\"流程名称:\")]),_vm._v(\" \"),_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(item.Title))])]),_vm._v(\" \"),_c('div',{staticClass:\"sub-message\"},[_c('div',{staticClass:\"item\"},[_c('span',{staticClass:\"name font-color-active\"},[_vm._v(\"状态:\")]),_vm._v(\" \"),_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.formatStatus(item.RecordStatus)))])]),_vm._v(\" \"),_c('div',{staticClass:\"item\"},[_c('span',{staticClass:\"name font-color-active\"},[_vm._v(\"终止人:\")]),_vm._v(\" \"),_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(item.FinishUserName))])])]),_vm._v(\" \"),_c('div',{staticClass:\"sub-message\"},[_c('div',{staticClass:\"item time\"},[_c('span',{staticClass:\"name font-color-active\"},[_vm._v(\"创建时间:\")]),_vm._v(\" \"),_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.formatDate(item.CreateDate)))])])]),_vm._v(\" \"),_c('div',{staticClass:\"sub-message\"},[_c('div',{staticClass:\"item time\"},[_c('span',{staticClass:\"name font-color-active\"},[_vm._v(\"完成时间:\")]),_vm._v(\" \"),_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.formatDate(item.FinishDate)))])])])])])}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"flow-history-footer\"},[_c('div',{staticClass:\"item\",on:{\"click\":_vm.goBack}},[_vm._v(\"\\n        返回\\n      \")])]),_vm._v(\" \"),_c('loading',{model:{value:(_vm.mx_isLoading),callback:function ($$v) {_vm.mx_isLoading=$$v},expression:\"mx_isLoading\"}}),_vm._v(\" \"),_c('toast',{attrs:{\"type\":\"text\",\"time\":_vm.mx_deleyTime},model:{value:(_vm.mx_toastShow),callback:function ($$v) {_vm.mx_toastShow=$$v},expression:\"mx_toastShow\"}},[_vm._v(_vm._s(_vm.afterSaveMsg))]),_vm._v(\" \"),_c('alert',{attrs:{\"title\":_vm.mx_alertTitle,\"content\":_vm.mx_message},on:{\"on-hide\":_vm.MixinAlertHideEvent},model:{value:(_vm.mx_alertShow),callback:function ($$v) {_vm.mx_alertShow=$$v},expression:\"mx_alertShow\"}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-457399a2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/WorkFlow/History.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-457399a2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vux-loader/src/after-less-loader.js!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./History.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader?{\\\"plugins\\\":[[\\\"babel-plugin-transform-modules\\\",{\\\"cube-ui\\\":{\\\"transform\\\":\\\"cube-ui/src/modules/${member}\\\",\\\"kebabCase\\\":true}}]]}!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./History.vue\"\nimport __vue_script__ from \"!!babel-loader?{\\\"plugins\\\":[[\\\"babel-plugin-transform-modules\\\",{\\\"cube-ui\\\":{\\\"transform\\\":\\\"cube-ui/src/modules/${member}\\\",\\\"kebabCase\\\":true}}]]}!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./History.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-457399a2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../../node_modules/vux-loader/src/template-loader.js!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./History.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/WorkFlow/History.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}