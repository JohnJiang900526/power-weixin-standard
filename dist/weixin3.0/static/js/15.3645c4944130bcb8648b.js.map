{"version":3,"sources":["webpack:///./src/components/sub-module/Report/Report.vue","webpack:///./src/components/sub-module/Report/Report.vue?b9f6","webpack:///./src/components/sub-module/Report/Report.vue?c058"],"names":["Report","props","loadStart","type","Boolean","default","KeyWord","String","computed","mapGetters","data","ReportData","fileLink","offset","methods","GetReport","_this","this","FormId","routerParams","FromId","GetReportData","where","then","res","value","concat","toConsumableArray_default","JSON","parse","catch","e","AlertShowEvent","message","openReport","item","KeyValue","Id","link","closeFile","_this2","timer","clearTimeout","setTimeout","mapActions","destroyed","watch","handler","newLoad","oldLoad","immediate","Report_Report","render","_vm","_h","$createElement","_c","_self","staticClass","_l","report","key","on","click","$event","_v","_s","Name","ExpType","attrs","size","xmlns","width","height","viewBox","d","style","transform","src","frameborder","directives","name","rawName","expression","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"uLAgCeA,cACbC,OACEC,WACEC,KAAMC,QACNC,SAAS,GAEXC,SACEH,KAAMI,OACNF,QAAS,KAGbG,gBACKC,aACD,kBAGJC,KAhBa,WAiBX,OACEC,cACAC,SAAU,GACVC,OAAQ,MAGZC,aAEEC,UAFF,WAEe,IAAAC,EAAAC,KACPC,EAASD,KAAKE,aAAaC,OAG/BH,KAAKI,eAAeH,SAAQI,MAFhB,KAEwBC,KAAK,SAACC,GACxC,IAAIC,EAAQD,EAAId,KAAKe,MAEnBT,EAAKL,WADHc,KACFC,OAAAC,IAAsBC,KAAKC,MAAMJ,UAIlCK,MAAM,SAACC,GACRf,EAAKgB,eAAeD,EAAEE,YAI1BC,WAlBF,SAkBcC,GACV,IAAIC,EAAWnB,KAAKE,aAAakB,GAE7BC,EAAA,0CAAwDH,EAAKE,GAA7D,YAA2EpB,KAAKX,QAAhF,aAAoG8B,EAExGnB,KAAKL,SAAW0B,EAChBrB,KAAKJ,OAAS,GAGhB0B,UA3BF,WA2Be,IAAAC,EAAAvB,KACXA,KAAKJ,OAAS,IACVI,KAAKwB,OACPC,aAAazB,KAAKwB,OAGpBxB,KAAKwB,MAAQE,WAAW,WACtBH,EAAK5B,SAAW,IACf,OAEFgC,aACD,gBACA,oBAGJC,UAjEa,WAkEXH,aAAazB,KAAKwB,QAEpBK,OACE5C,WACE6C,QADS,SACAC,EAASC,GACZhC,KAAKf,WACPe,KAAKF,aAGTmC,WAAW,MCxGFC,GADEC,OAFjB,WAA0B,IAAAC,EAAApC,KAAaqC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,WAAqBF,EAAA,OAAYE,YAAA,sBAAgCF,EAAA,MAAWE,YAAA,gBAA2BL,EAAAM,GAAAN,EAAA,oBAAAO,GAA0C,OAAAJ,EAAA,MAAgBK,IAAAD,EAAAvB,GAAAqB,YAAA,gBAAwCF,EAAA,OAAYE,YAAA,oBAAAI,IAAoCC,MAAA,SAAAC,GAAyBX,EAAAnB,WAAA0B,OAAyBJ,EAAA,OAAYE,YAAA,iBAA2BF,EAAA,KAAUE,YAAA,SAAmBL,EAAAY,GAAAZ,EAAAa,GAAAN,EAAAO,MAAA,IAAAd,EAAAa,GAAAN,EAAAQ,cAAAf,EAAAY,GAAA,KAAAT,EAAA,OAAmFE,YAAA,cAAwBF,EAAA,OAAYE,YAAA,cAAwBF,EAAA,OAAYE,YAAA,wCAAAW,OAA2DlE,KAAA,kBAAAmE,KAAA,KAAAC,MAAA,6BAAAC,MAAA,KAAAC,OAAA,KAAAC,QAAA,iBAA8HlB,EAAA,QAAaa,OAAOM,EAAA,+EAA8EtB,EAAAY,GAAA,KAAAT,EAAA,OAA2BE,YAAA,cAAAkB,OAAkCC,UAAA,eAAA5D,KAAAJ,OAAA,cAAyD2C,EAAA,UAAeE,YAAA,SAAAW,OAA4BS,IAAAzB,EAAAzC,SAAAmE,YAAA,OAAsC1B,EAAAY,GAAA,KAAAT,EAAA,OAAwBwB,aAAaC,KAAA,OAAAC,QAAA,SAAAzD,MAAA4B,EAAAxC,QAAA,IAAAsE,WAAA,kBAAkFzB,YAAA,YAAAI,IAA8BC,MAAAV,EAAAd,aAAuBiB,EAAA,QAAaE,YAAA,uBAE9vC0B,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEvF,EACAmD,GATF,EAVA,SAAAqC,GACEF,EAAQ,SAaV,KAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"weixin3.0/static/js/15.3645c4944130bcb8648b.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { mapGetters, mapActions } from 'vuex'\r\nimport { systemConfig } from 'common/js/config'\r\n\r\nconst debug = process.env.NODE_ENV !== 'production'\r\n\r\nexport default {\r\n  props: {\r\n    loadStart: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    KeyWord: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'routerParams'\r\n    ])\r\n  },\r\n  data () {\r\n    return {\r\n      ReportData: [],\r\n      fileLink: '',\r\n      offset: 100\r\n    }\r\n  },\r\n  methods: {\r\n    // 获取报表数据\r\n    GetReport () {\r\n      let FormId = this.routerParams.FromId\r\n      let where = ''\r\n\r\n      this.GetReportData({FormId, where}).then((res) => {\r\n        let value = res.data.value\r\n        if (value) {\r\n          this.ReportData = [...JSON.parse(value)]\r\n        } else {\r\n          this.ReportData = []\r\n        }\r\n      }).catch((e) => {\r\n        this.AlertShowEvent(e.message)\r\n      })\r\n    },\r\n    // 打开报表\r\n    openReport (item) {\r\n      let KeyValue = this.routerParams.Id\r\n      let host = debug ? systemConfig.devDomainName : ''\r\n      let link = `${host}/PowerPlat/FormXml/ReportView.aspx?rid=${item.Id}&KeyWord=${this.KeyWord}&KeyValue=${KeyValue}`\r\n\r\n      this.fileLink = link\r\n      this.offset = 0\r\n    },\r\n    // 关闭文件\r\n    closeFile () {\r\n      this.offset = 100\r\n      if (this.timer) {\r\n        clearTimeout(this.timer)\r\n      }\r\n\r\n      this.timer = setTimeout(() => {\r\n        this.fileLink = ''\r\n      }, 400)\r\n    },\r\n    ...mapActions([\r\n      'GetReportData',\r\n      'AlertShowEvent'\r\n    ])\r\n  },\r\n  destroyed () {\r\n    clearTimeout(this.timer)\r\n  },\r\n  watch: {\r\n    loadStart: {\r\n      handler (newLoad, oldLoad) {\r\n        if (this.loadStart) {\r\n          this.GetReport()\r\n        }\r\n      },\r\n      immediate: true\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/sub-module/Report/Report.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Report\"},[_c('div',{staticClass:\"report-lists-wrap\"},[_c('ul',{staticClass:\"report-lists\"},_vm._l((_vm.ReportData),function(report){return _c('li',{key:report.Id,staticClass:\"report-list\"},[_c('div',{staticClass:\"report-list-inner\",on:{\"click\":function($event){_vm.openReport(report)}}},[_c('div',{staticClass:\"list-massage\"},[_c('p',{staticClass:\"text\"},[_vm._v(_vm._s(report.Name)+\".\"+_vm._s(report.ExpType))])]),_vm._v(\" \"),_c('div',{staticClass:\"list-icon\"},[_c('div',{staticClass:\"icon-wrap\"},[_c('svg',{staticClass:\"vux-x-icon vux-x-icon-ios-arrow-right\",attrs:{\"type\":\"ios-arrow-right\",\"size\":\"20\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"20\",\"height\":\"20\",\"viewBox\":\"0 0 512 512\"}},[_c('path',{attrs:{\"d\":\"M160 115.4L180.7 96 352 256 180.7 416 160 396.7 310.5 256z\"}})])])])])])}))]),_vm._v(\" \"),_c('div',{staticClass:\"iframe-wrap\",style:({'transform': 'translate3d(' + this.offset + '%, 0, 0)'})},[_c('iframe',{staticClass:\"iframe\",attrs:{\"src\":_vm.fileLink,\"frameborder\":\"0\"}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.offset <= 100),expression:\"offset <= 100\"}],staticClass:\"back-wrap\",on:{\"click\":_vm.closeFile}},[_c('span',{staticClass:\"fa fa-reply\"})])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7917eb60\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/sub-module/Report/Report.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7917eb60\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vux-loader/src/after-less-loader.js!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vux-loader/src/style-loader.js!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Report.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader?{\\\"plugins\\\":[[\\\"babel-plugin-transform-modules\\\",{\\\"cube-ui\\\":{\\\"transform\\\":\\\"cube-ui/src/modules/${member}\\\",\\\"kebabCase\\\":true}}]]}!../../../../node_modules/vux-loader/src/script-loader.js!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Report.vue\"\nimport __vue_script__ from \"!!babel-loader?{\\\"plugins\\\":[[\\\"babel-plugin-transform-modules\\\",{\\\"cube-ui\\\":{\\\"transform\\\":\\\"cube-ui/src/modules/${member}\\\",\\\"kebabCase\\\":true}}]]}!../../../../node_modules/vux-loader/src/script-loader.js!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Report.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7917eb60\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../../../node_modules/vux-loader/src/template-loader.js!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Report.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/sub-module/Report/Report.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}